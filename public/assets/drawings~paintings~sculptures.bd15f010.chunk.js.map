{"version":3,"sources":["/Users/marioncasters/Sites/GIT/marioncasters-site/src/constants/itemConstants.js","/Users/marioncasters/Sites/GIT/marioncasters-site/src/components/LightBoxProvider/LightBoxProvider.js","/Users/marioncasters/Sites/GIT/marioncasters-site/src/components/ItemDir/Image/Image.js","/Users/marioncasters/Sites/GIT/marioncasters-site/src/components/ItemDir/Item/Item.js","/Users/marioncasters/Sites/GIT/marioncasters-site/src/constants/lightboxConstants.js","webpack:///./src/components/ItemDir/Item/Item.css?352b","/Users/marioncasters/Sites/GIT/marioncasters-site/src/components/ItemDir/Item/Item.css","webpack:///./src/components/ItemDir/Image/Image.css?f9ab","/Users/marioncasters/Sites/GIT/marioncasters-site/src/components/ItemDir/Image/Image.css","/Users/marioncasters/Sites/GIT/marioncasters-site/src/components/Lightbox/Lightbox.js","webpack:///./src/components/Lightbox/Lightbox.css?f0c0","/Users/marioncasters/Sites/GIT/marioncasters-site/src/components/Lightbox/Lightbox.css"],"names":["ITEM_CONSTANTS","PAINTING_FOLDER","SCULPTURE_FOLDER","DRAWING_FOLDER","PAINTING_PATH","SCULPTURE_PATH","DRAWING_PATH","SM_SIZE","MD_SIZE","TYPE","PAINTING","SCULPTURE","DRAWING","TITLE","ALT_IMAGE_PAINTING","ALT_IMAGE_SCULPTURE","ALT_IMAGE_DRAWING","FORMAT_DATE","Modal","setAppElement","LightBoxProvider","props","_this","_classCallCheck","this","_getPrototypeOf","call","_defineProperty","_assertThisInitialized","toggle","state","photoIndex","React","Component","_this2","_this$props","title","type","srcList","src","ITEM_CONST","_jsx","react","Lightbox","mainSrc","nextSrc","length","prevSrc","onCloseRequest","close","onMovePrevRequest","setState","onMoveNextRequest","imageTitle","concat","mobileSizeBreakpoint","LAYOUT_CONSTANTS","BREAKPOINT","MD","imagePadding","LIGHTBOX_PADDING","imageMobilePadding","LIGHTBOX_MOBILE_PADDING","Image","Image_classCallCheck","Image_getPrototypeOf","Image_defineProperty","Image_assertThisInitialized","path","currentImagePath","isLessThanSM","largeImagePath","open","isOpen","isCurrent","i","list","push","viewport","width","SM","setPath","lightBoxHandler","bind","getSrc","getSrcList","openLightBox","currentSrcList","largeSrcList","Image_jsx","map","className","s","sculptureButton","onClick","alt","image","components_LightBoxProvider_LightBoxProvider","currentSrc","largeSrc","imageButton","withStyles","withViewport","Item","item","Item_jsx","itemContainer","itemTitle","ItemDir_Image_Image","noWrap","Date","date","toLocaleDateString","spacer","technique","height","__webpack_require__","d","__webpack_exports__","MIN_ZOOM_LEVEL","MAX_ZOOM_LEVEL","ZOOM_RATIO","ZOOM_BUTTON_INCREMENT_SIZE","WHEEL_MOVE_X_THRESHOLD","WHEEL_MOVE_Y_THRESHOLD","KEYS","ACTION_NONE","ACTION_MOVE","ACTION_SWIPE","ACTION_PINCH","SOURCE_ANY","SOURCE_MOUSE","SOURCE_TOUCH","SOURCE_POINTER","MIN_SWIPE_DISTANCE","ESC","LEFT_ARROW","RIGHT_ARROW","css","insertCss","content","module","exports","locals","_getContent","_getCss","_insertCss","options","isClosing","animationDisabled","shouldAnimate","zoomLevel","offsetX","offsetY","loadErrorStatus","closeIfClickInner","handleImageDoubleClick","handleImageMouseWheel","handleKeyInput","handleMouseUp","handleMouseDown","handleMouseMove","handleOuterMousewheel","handleTouchStart","handleTouchMove","handleTouchEnd","handlePointerEvent","handleCaptionMousewheel","handleWindowResize","handleZoomInButtonClick","handleZoomOutButtonClick","requestClose","requestMoveNext","requestMovePrev","target","test","mouseEvent","id","source","x","parseInt","clientX","y","clientY","touchPointer","identifier","pointerEvent","pointerId","timeouts","currentAction","eventsSource","pointerList","preventInnerClose","preventInnerCloseTimeout","keyPressed","imageCache","lastKeyDownTime","resizeTimeout","wheelActionTimeout","resetScrollTimeout","scrollX","scrollY","moveStartX","moveStartY","moveStartOffsetX","moveStartOffsetY","swipeStartX","swipeStartY","swipeEndX","swipeEndY","pinchTouchList","pinchDistance","keyCounter","moveRequested","windowContext","getHighestSafeWindowContext","listeners","resize","mouseup","touchend","touchcancel","pointerdown","pointermove","pointerup","pointercancel","Object","keys","forEach","addEventListener","loadAllImages","nextProps","_this3","sourcesChanged","prevSrcDict","nextSrcDict","getSrcTypes","srcType","name","loaded","_this4","didUnmount","removeEventListener","tid","clearTimeout","func","time","_this5","setTimeout","filter","_this6","imageSrc","fitSizes","isImageLoaded","getFitSizes","targetHeight","targetWidth","stretch","maxHeight","maxWidth","boxSize","getLightboxRect","Math","min","arguments","undefined","currentImageInfo","getBestImageForType","maxX","minX","maxY","minY","zoomMultiplier","getZoomMultiplier","keyEnding","pow","outerEl","getBoundingClientRect","getWindowWidth","getWindowHeight","top","right","bottom","left","enableZoom","nextZoomLevel","max","imageBaseSize","currentZoomMultiplier","nextZoomMultiplier","boxRect","pointerX","pointerY","currentImageOffsetX","currentImageOffsetY","nextImageRealOffsetX","nextImageRealOffsetY","nextOffsetX","nextOffsetY","maxOffsets","getMaxOffsets","event","search","stopPropagation","isAnimating","keyCode","which","currentTime","getTime","keyRepeatLimit","preventDefault","keyRepeatKeyupBonus","_this7","xThreshold","actionDelay","abs","deltaY","deltaX","bigLeapX","yThreshold","changeZoom","filterPointersBySource","pointer","_ref","_this8","_ref2","shouldHandleEvent","isTargetMatchImage","addPointer","parseMouseEvent","multiPointerStart","multiPointerMove","removePointer","multiPointerEnd","parsePointerEvent","_this9","changedTouches","eventTouch","parseTouchPointer","_this10","touch","handleSwipeStart","handleMoveStart","handleEnd","decideMoveOrSwipe","handlePinchStart","handleMove","handleSwipe","handlePinch","setPreventInnerClose","handleMoveEnd","handleSwipeEnd","handlePinchEnd","_ref3","_ref4","newOffsetX","newOffsetY","_this11","animationDuration","_ref5","_ref6","xDiff","xDiffAbs","yDiffAbs","_ref8","_slicedToArray","a","b","sqrt","_ref10","_ref11","calculatePinchDistance","oldPointer","newDistance","_this$calculatePinchC","calculatePinchCenter","forceUpdate","zoomOutBtn","focus","zoomInBtn","caption","_this$caption","scrollHeight","scrollTop","done","_this12","inMemoryImage","global","imageCrossOrigin","crossOrigin","onerror","errorEvent","onImageLoadError","prevState","_objectSpread","onload","onImageLoad","_this13","loadImage","err","generateLoadDoneCallback","_this14","closeLightbox","animationOnKeyInput","direction","_this15","nextState","requestMove","_this16","clickOutsideToClose","discourageDownloads","toolbarButtons","reactModalStyle","onAfterOpen","reactModalProps","_this$state","transitionStyle","transition","keyEndings","_ref12","images","addImage","imageClass","transforms","bestImageInfo","imageStyle","getTransform","cursor","object","some","key","ril__image","style","imageLoadErrorMessage","backgroundImage","ril__imageDiscourager","onDoubleClick","onWheel","ril__downloadBlocker","react__WEBPACK_IMPORTED_MODULE_0___default","createElement","_extends","onDragStart","e","translate","draggable","loadingIcon","ril__loadingCircle","ril__loadingContainer__icon","_toConsumableArray","Array","_","index","ril__loadingCirclePoint","ril__loadingContainer","zoom","modalStyle","overlay","zIndex","backgroundColor","overflow","border","borderRadius","padding","react_modal__WEBPACK_IMPORTED_MODULE_3___default","onRequestClose","contentLabel","appElement","window","document","body","ril__outer","ril__outerAnimating","wrapperClassName","ril__outerClosing","animationDirection","ref","el","onMouseMove","onMouseDown","onTouchStart","onTouchMove","tabIndex","onKeyDown","onKeyUp","ril__inner","ril__navButtons","ril__navButtonPrev","aria-label","prevLabel","ril__navButtonNext","nextLabel","ril__toolbar","ril__toolbarSide","ril__toolbarLeftSide","ril__toolbarItem","ril__toolbarItemChild","ril__toolbarRightSide","button","zoomInLabel","ril__builtinButton","ril__zoomInButton","ril__builtinButtonDisabled","join","disabled","zoomOutLabel","ril__zoomOutButton","closeLabel","ril__closeButton","imageCaption","ril__caption","ril__captionContent","_ref13$x","_ref13","_ref13$y","_ref13$zoom","nextX","windowWidth","scaleFactor","transform","defaultProps","mainSrcThumbnail","nextSrcThumbnail","prevSrcThumbnail","ril__imageNext","ril__imagePrev","closeWindow","pointFade","ril__errorContainer"],"mappings":"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","file":"drawings~paintings~sculptures.bd15f010.chunk.js","sourcesContent":["const ITEM_CONSTANTS = {\n  PAINTING_FOLDER: 'paintings',\n  SCULPTURE_FOLDER: 'sculptures',\n  DRAWING_FOLDER: 'drawings',\n\n  PAINTING_PATH: '/images/paintings',\n  SCULPTURE_PATH: '/images/sculptures',\n  DRAWING_PATH: '/images/drawings',\n\n  SM_SIZE: 'sm',\n  MD_SIZE: 'md',\n\n  TYPE: {\n    PAINTING: 'painting',\n    SCULPTURE: 'sculpture',\n    DRAWING: 'drawing',\n  },\n\n  TITLE: {\n    PAINTING: 'Peintures',\n    SCULPTURE: 'Sculptures',\n    DRAWING: 'Dessins',\n  },\n\n  ALT_IMAGE_PAINTING: 'Peinture de Marion Casters',\n  ALT_IMAGE_SCULPTURE: 'Sculpture de Marion Casters',\n  ALT_IMAGE_DRAWING: 'Dessin de Marion Casters',\n\n  FORMAT_DATE: 'DD/MM/YYYY',\n};\n\nexport default ITEM_CONSTANTS;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'react-modal';\n\nimport ITEM_CONST from '../../constants/itemConstants';\nimport Lightbox from '../Lightbox/Lightbox';\nimport {\n  LIGHTBOX_MOBILE_PADDING,\n  LIGHTBOX_PADDING,\n} from '../../constants/lightboxConstants';\nimport LAYOUT_CONSTANTS from '../../constants/layoutConstants';\n\nModal.setAppElement('#app');\n\nclass LightBoxProvider extends React.Component {\n  static propTypes = {\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    srcList: PropTypes.array,\n    src: PropTypes.string,\n    toggle: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    srcList: [],\n    src: '',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      photoIndex: 0,\n    };\n  }\n\n  close = () => {\n    this.props.toggle(false);\n  };\n\n  render() {\n    const { title, type, srcList, src } = this.props;\n    const { photoIndex } = this.state;\n\n    if (type === ITEM_CONST.TYPE.SCULPTURE) {\n      return (\n        <Fragment>\n          <Lightbox\n            mainSrc={srcList[photoIndex]}\n            nextSrc={srcList[(photoIndex + 1) % srcList.length]}\n            prevSrc={\n              srcList[(photoIndex + srcList.length - 1) % srcList.length]\n            }\n            onCloseRequest={() => this.close()}\n            onMovePrevRequest={() =>\n              this.setState({\n                photoIndex: (photoIndex + srcList.length - 1) % srcList.length,\n              })\n            }\n            onMoveNextRequest={() =>\n              this.setState({\n                photoIndex: (photoIndex + 1) % srcList.length,\n              })\n            }\n            imageTitle={`Marion Casters | ${title}`}\n            mobileSizeBreakpoint={LAYOUT_CONSTANTS.BREAKPOINT.MD}\n            imagePadding={LIGHTBOX_PADDING}\n            imageMobilePadding={LIGHTBOX_MOBILE_PADDING}\n          />\n        </Fragment>\n      );\n    }\n\n    return (\n      <Fragment>\n        <Lightbox\n          mainSrc={src}\n          onCloseRequest={() => this.close()}\n          imageTitle={`Marion Casters | ${title}`}\n          imagePadding={LIGHTBOX_PADDING}\n          imageMobilePadding={LIGHTBOX_MOBILE_PADDING}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default LightBoxProvider;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from 'isomorphic-style-loader/withStyles';\n\nimport s from './Image.css';\nimport ITEM_CONST from '../../../constants/itemConstants';\nimport LAYOUT_CONSTANTS from '../../../constants/layoutConstants';\nimport withViewport from '../../WithViewport';\nimport LightBoxProvider from '../../LightBoxProvider';\n\nclass Image extends React.Component {\n  static propTypes = {\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    viewport: PropTypes.shape({\n      width: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.isLessThanSM =\n      this.props.viewport.width < LAYOUT_CONSTANTS.BREAKPOINT.SM;\n\n    this.setPath();\n\n    this.state = {\n      isOpen: false,\n    };\n\n    this.lightBoxHandler = this.lightBoxHandler.bind(this);\n    this.getSrc = this.getSrc.bind(this);\n    this.getSrcList = this.getSrcList.bind(this);\n    this.openLightBox = this.openLightBox.bind(this);\n  }\n\n  setPath = () => {\n    let path;\n    if (this.props.type === ITEM_CONST.TYPE.PAINTING) {\n      path = `${ITEM_CONST.PAINTING_PATH}`;\n    }\n    if (this.props.type === ITEM_CONST.TYPE.DRAWING) {\n      path = `${ITEM_CONST.DRAWING_PATH}`;\n    }\n    if (this.props.type === ITEM_CONST.TYPE.SCULPTURE) {\n      path = `${ITEM_CONST.SCULPTURE_PATH}`;\n    }\n    this.currentImagePath = this.isLessThanSM\n      ? `${path}/${ITEM_CONST.SM_SIZE}`\n      : `${path}/${ITEM_CONST.MD_SIZE}`;\n    this.largeImagePath = this.isLessThanSM\n      ? `${path}/${ITEM_CONST.MD_SIZE}`\n      : `${path}`;\n  };\n\n  lightBoxHandler = open => {\n    this.setState({ isOpen: open });\n  };\n\n  getSrc = (title, isCurrent) => {\n    return isCurrent\n      ? `${this.currentImagePath}/${title}.jpg`\n      : `${this.largeImagePath}/${title}.jpg`;\n  };\n\n  getSrcList = (title, isCurrent) => {\n    const list = [];\n    let i;\n    const path = isCurrent\n      ? `${this.currentImagePath}`\n      : `${this.largeImagePath}`;\n    for (i = 1; i < 5; i++) {\n      list.push(`${path}/${title}_${i}.jpg`);\n    }\n    return list;\n  };\n\n  openLightBox = () => {\n    this.setState({ isOpen: true });\n  };\n\n  render() {\n    const { title, type } = this.props;\n    const { isOpen } = this.state;\n\n    if (type === ITEM_CONST.TYPE.SCULPTURE) {\n      const currentSrcList = this.getSrcList(title, true);\n      const largeSrcList = this.getSrcList(title, false);\n      return (\n        <Fragment>\n          <div>\n            {currentSrcList.map(src => (\n              <button\n                type=\"button\"\n                className={s.sculptureButton}\n                onClick={this.openLightBox}\n                key={src}\n              >\n                <img\n                  src={src}\n                  alt={ITEM_CONST.ALT_IMAGE_SCULPTURE}\n                  className={s.image}\n                />\n              </button>\n            ))}\n          </div>\n          {isOpen && typeof window !== 'undefined' && (\n            <LightBoxProvider\n              title={title}\n              type={type}\n              srcList={largeSrcList}\n              toggle={this.lightBoxHandler}\n            />\n          )}\n        </Fragment>\n      );\n    }\n\n    const currentSrc = this.getSrc(title, true);\n    const largeSrc = this.getSrc(title, false);\n    return (\n      <Fragment>\n        <button\n          type=\"button\"\n          className={s.imageButton}\n          onClick={this.openLightBox}\n          key={this.currentImagePath}\n        >\n          <img\n            src={currentSrc}\n            alt={\n              type === ITEM_CONST.TYPE.PAINTING\n                ? ITEM_CONST.ALT_IMAGE_PAINTING\n                : ITEM_CONST.ALT_IMAGE_DRAWING\n            }\n            className={s.image}\n          />\n        </button>\n        {isOpen && typeof window !== 'undefined' && (\n          <LightBoxProvider\n            title={title}\n            type={type}\n            src={largeSrc}\n            toggle={this.lightBoxHandler}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default withStyles(s)(withViewport(Image));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from 'isomorphic-style-loader/withStyles';\n\nimport s from './Item.css';\nimport ITEM_CONST from '../../../constants/itemConstants';\nimport Image from '../Image';\n\nclass Item extends React.Component {\n  static propTypes = {\n    item: PropTypes.shape({\n      title: PropTypes.string,\n      date: PropTypes.string,\n      technique: PropTypes.string,\n      description: PropTypes.string,\n      height: PropTypes.number,\n      width: PropTypes.number,\n      length: PropTypes.number,\n    }).isRequired,\n    type: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const { item, type } = this.props;\n\n    return (\n      <article className={s.itemContainer}>\n        <h2 className={s.itemTitle}>{item.title}</h2>\n        <Image type={type} title={item.title} />\n        <span className={s.noWrap}>\n          {new Date(item.date).toLocaleDateString()}\n        </span>\n        <span className={s.spacer}> | </span>\n        <span className={s.noWrap}>{item.technique}</span>\n        <span className={s.spacer}> | </span>\n        {type === ITEM_CONST.TYPE.SCULPTURE && (\n          <span className={s.noWrap}>\n            {item.height} x {item.width} x {item.length} cm\n          </span>\n        )}\n        {type !== ITEM_CONST.TYPE.SCULPTURE && (\n          <span className={s.noWrap}>\n            {item.height} x {item.width} cm\n          </span>\n        )}\n      </article>\n    );\n  }\n}\n\nexport default withStyles(s)(Item);\n","// Min image zoom level\nexport const MIN_ZOOM_LEVEL = 0;\n\n// Max image zoom level\nexport const MAX_ZOOM_LEVEL = 300;\n\n// Size ratio between previous and next zoom levels\nexport const ZOOM_RATIO = 1.007;\n\n// How much to increase/decrease the zoom level when the zoom buttons are clicked\nexport const ZOOM_BUTTON_INCREMENT_SIZE = 100;\n\n// Used to judge the amount of horizontal scroll needed to initiate a image move\nexport const WHEEL_MOVE_X_THRESHOLD = 200;\n\n// Used to judge the amount of vertical scroll needed to initiate a zoom action\nexport const WHEEL_MOVE_Y_THRESHOLD = 1;\n\nexport const KEYS = {\n  ESC: 27,\n  LEFT_ARROW: 37,\n  RIGHT_ARROW: 39,\n};\n\n// Actions\nexport const ACTION_NONE = 0;\nexport const ACTION_MOVE = 1;\nexport const ACTION_SWIPE = 2;\nexport const ACTION_PINCH = 3;\nexport const ACTION_ROTATE = 4;\n\n// Events source\nexport const SOURCE_ANY = 0;\nexport const SOURCE_MOUSE = 1;\nexport const SOURCE_TOUCH = 2;\nexport const SOURCE_POINTER = 3;\n\n// Minimal swipe distance\nexport const MIN_SWIPE_DISTANCE = 200;\n\nexport const LIGHTBOX_PADDING = 50;\nexport const LIGHTBOX_MOBILE_PADDING = 10;\n","\n    var refs = 0;\n    var css = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Item.css\");\n    var insertCss = require(\"!../../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Item.css\", function() {\n        css = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Item.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \":root{--font-family-base:Montserrat,Ubuntu,sans-serif;--font-weight:100;--max-content-width:1000px;--max-content-form:25em;--aside-width-md:28%;--aside-width:20%;--side-padding:4em;--main-top-padding-mobile:3em;--main-top-padding:12em;--main-bottom-padding:6em;--main-side-padding-mobile:1em;--main-side-padding:5em;--main-side-padding-large:6em;--mainHome-side-padding:3em;--mainHome-bottom-padding:2em;--color-xxlight:#fafafa;--color-xlight:#eee;--color-light:#ccc;--color-medium:#aaa;--color-dark:#777;--color-xdark:#555;--color-xxdark:#333;--link-color:#ab8b8b;--link-color-dark:#a86363;--link-color-xdark:#754b49;--color-light-brown:#7b6a58;--color-dark-brown:#574530;--color-xdark-brown:#453322;--font-size-header-sm-mobile:1.3em;--font-size-header-md-mobile:1.8em;--font-size-header:2em;--font-size-nav:17px;--font-size-tab:20px;--font-size-current-title:15px;--font-size-current-plus-plus:14px;--font-size-current-plus:13px;--font-size-current:12px;--font-size-minus:11px}._1VQDL{padding-bottom:4em}._1Wk8o{font-size:15px;font-size:var(--font-size-current-title);margin:0 0 .1em}.d2b3g{display:block}._1F7uC{display:none}@media (min-width:765px){.d2b3g{display:inline;white-space:pre}._1F7uC{display:inline;padding:0 15px}}\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"itemContainer\": \"_1VQDL\",\n\t\"itemTitle\": \"_1Wk8o\",\n\t\"noWrap\": \"d2b3g\",\n\t\"spacer\": \"_1F7uC\"\n};","\n    var refs = 0;\n    var css = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Image.css\");\n    var insertCss = require(\"!../../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Image.css\", function() {\n        css = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Image.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \":root{--font-family-base:Montserrat,Ubuntu,sans-serif;--font-weight:100;--max-content-width:1000px;--max-content-form:25em;--aside-width-md:28%;--aside-width:20%;--side-padding:4em;--main-top-padding-mobile:3em;--main-top-padding:12em;--main-bottom-padding:6em;--main-side-padding-mobile:1em;--main-side-padding:5em;--main-side-padding-large:6em;--mainHome-side-padding:3em;--mainHome-bottom-padding:2em;--color-xxlight:#fafafa;--color-xlight:#eee;--color-light:#ccc;--color-medium:#aaa;--color-dark:#777;--color-xdark:#555;--color-xxdark:#333;--link-color:#ab8b8b;--link-color-dark:#a86363;--link-color-xdark:#754b49;--color-light-brown:#7b6a58;--color-dark-brown:#574530;--color-xdark-brown:#453322;--font-size-header-sm-mobile:1.3em;--font-size-header-md-mobile:1.8em;--font-size-header:2em;--font-size-nav:17px;--font-size-tab:20px;--font-size-current-title:15px;--font-size-current-plus-plus:14px;--font-size-current-plus:13px;--font-size-current:12px;--font-size-minus:11px}._1LxHP,._27r3A{padding:.2em;background-color:unset;border:none;cursor:pointer;margin:0 auto}._3xDRH{max-width:100%;max-height:45vh}@media (min-width:765px){._3xDRH{max-width:70%;max-height:60vh}._27r3A{display:inline-block;max-width:50%}._27r3A ._3xDRH{max-width:100%;max-height:35vh}}@media (min-width:992px){._3xDRH{max-height:45vh}._27r3A ._3xDRH{max-height:25vh}}@media (min-width:1200px){._3xDRH{max-width:33vw;max-height:50vh}._27r3A ._3xDRH{max-height:55vh}}@media (min-width:1600px){._3xDRH{max-width:30vw;max-height:47vh}._27r3A ._3xDRH{max-width:25vw;max-height:45vh}}\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"imageButton\": \"_1LxHP\",\n\t\"sculptureButton\": \"_27r3A\",\n\t\"image\": \"_3xDRH\"\n};","/* eslint-disable css-modules/no-unused-class */\nimport React, { Component } from 'react';\nimport withStyles from 'isomorphic-style-loader/withStyles';\nimport PropTypes from 'prop-types';\nimport Modal from 'react-modal';\nimport {\n  translate,\n  getWindowWidth,\n  getWindowHeight,\n  getHighestSafeWindowContext,\n} from '../../../tools/lib/windowUtils';\nimport {\n  KEYS,\n  MIN_ZOOM_LEVEL,\n  MAX_ZOOM_LEVEL,\n  ZOOM_RATIO,\n  WHEEL_MOVE_X_THRESHOLD,\n  WHEEL_MOVE_Y_THRESHOLD,\n  ZOOM_BUTTON_INCREMENT_SIZE,\n  ACTION_NONE,\n  ACTION_MOVE,\n  ACTION_SWIPE,\n  ACTION_PINCH,\n  SOURCE_ANY,\n  SOURCE_MOUSE,\n  SOURCE_TOUCH,\n  SOURCE_POINTER,\n  MIN_SWIPE_DISTANCE,\n} from '../../constants/lightboxConstants';\nimport s from './Lightbox.css';\n\nclass Lightbox extends Component {\n  static isTargetMatchImage(target) {\n    return target && /ril-image-current/.test(target.className);\n  }\n\n  static parseMouseEvent(mouseEvent) {\n    return {\n      id: 'mouse',\n      source: SOURCE_MOUSE,\n      x: parseInt(mouseEvent.clientX, 10),\n      y: parseInt(mouseEvent.clientY, 10),\n    };\n  }\n\n  static parseTouchPointer(touchPointer) {\n    return {\n      id: touchPointer.identifier,\n      source: SOURCE_TOUCH,\n      x: parseInt(touchPointer.clientX, 10),\n      y: parseInt(touchPointer.clientY, 10),\n    };\n  }\n\n  static parsePointerEvent(pointerEvent) {\n    return {\n      id: pointerEvent.pointerId,\n      source: SOURCE_POINTER,\n      x: parseInt(pointerEvent.clientX, 10),\n      y: parseInt(pointerEvent.clientY, 10),\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      //-----------------------------\n      // Animation\n      //-----------------------------\n\n      // Lightbox is closing\n      // When Lightbox is mounted, if animation is enabled it will open with the reverse of the closing animation\n      isClosing: !props.animationDisabled,\n\n      // Component parts should animate (e.g., when images are moving, or image is being zoomed)\n      shouldAnimate: false,\n\n      //-----------------------------\n      // Zoom settings\n      //-----------------------------\n      // Zoom level of image\n      zoomLevel: MIN_ZOOM_LEVEL,\n\n      //-----------------------------\n      // Image position settings\n      //-----------------------------\n      // Horizontal offset from center\n      offsetX: 0,\n\n      // Vertical offset from center\n      offsetY: 0,\n\n      // image load error for srcType\n      loadErrorStatus: {},\n    };\n\n    this.closeIfClickInner = this.closeIfClickInner.bind(this);\n    this.handleImageDoubleClick = this.handleImageDoubleClick.bind(this);\n    this.handleImageMouseWheel = this.handleImageMouseWheel.bind(this);\n    this.handleKeyInput = this.handleKeyInput.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleOuterMousewheel = this.handleOuterMousewheel.bind(this);\n    this.handleTouchStart = this.handleTouchStart.bind(this);\n    this.handleTouchMove = this.handleTouchMove.bind(this);\n    this.handleTouchEnd = this.handleTouchEnd.bind(this);\n    this.handlePointerEvent = this.handlePointerEvent.bind(this);\n    this.handleCaptionMousewheel = this.handleCaptionMousewheel.bind(this);\n    this.handleWindowResize = this.handleWindowResize.bind(this);\n    this.handleZoomInButtonClick = this.handleZoomInButtonClick.bind(this);\n    this.handleZoomOutButtonClick = this.handleZoomOutButtonClick.bind(this);\n    this.requestClose = this.requestClose.bind(this);\n    this.requestMoveNext = this.requestMoveNext.bind(this);\n    this.requestMovePrev = this.requestMovePrev.bind(this);\n  }\n\n  componentWillMount() {\n    // Timeouts - always clear it before umount\n    this.timeouts = [];\n\n    // Current action\n    this.currentAction = ACTION_NONE;\n\n    // Events source\n    this.eventsSource = SOURCE_ANY;\n\n    // Empty pointers list\n    this.pointerList = [];\n\n    // Prevent inner close\n    this.preventInnerClose = false;\n    this.preventInnerCloseTimeout = null;\n\n    // Used to disable animation when changing props.mainSrc|nextSrc|prevSrc\n    this.keyPressed = false;\n\n    // Used to store load state / dimensions of images\n    this.imageCache = {};\n\n    // Time the last keydown event was called (used in keyboard action rate limiting)\n    this.lastKeyDownTime = 0;\n\n    // Used for debouncing window resize event\n    this.resizeTimeout = null;\n\n    // Used to determine when actions are triggered by the scroll wheel\n    this.wheelActionTimeout = null;\n    this.resetScrollTimeout = null;\n    this.scrollX = 0;\n    this.scrollY = 0;\n\n    // Used in panning zoomed images\n    this.moveStartX = 0;\n    this.moveStartY = 0;\n    this.moveStartOffsetX = 0;\n    this.moveStartOffsetY = 0;\n\n    // Used to swipe\n    this.swipeStartX = 0;\n    this.swipeStartY = 0;\n    this.swipeEndX = 0;\n    this.swipeEndY = 0;\n\n    // Used to pinch\n    this.pinchTouchList = null;\n    this.pinchDistance = 0;\n\n    // Used to differentiate between images with identical src\n    this.keyCounter = 0;\n\n    // Used to detect a move when all src's remain unchanged (four or more of the same image in a row)\n    this.moveRequested = false;\n\n    if (!this.props.animationDisabled) {\n      // Make opening animation play\n      this.setState({ isClosing: false });\n    }\n  }\n\n  componentDidMount() {\n    // Prevents cross-origin errors when using a cross-origin iframe\n    this.windowContext = getHighestSafeWindowContext();\n\n    this.listeners = {\n      resize: this.handleWindowResize,\n      mouseup: this.handleMouseUp,\n      touchend: this.handleTouchEnd,\n      touchcancel: this.handleTouchEnd,\n      pointerdown: this.handlePointerEvent,\n      pointermove: this.handlePointerEvent,\n      pointerup: this.handlePointerEvent,\n      pointercancel: this.handlePointerEvent,\n    };\n    Object.keys(this.listeners).forEach(type => {\n      this.windowContext.addEventListener(type, this.listeners[type]);\n    });\n\n    this.loadAllImages();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // Iterate through the source types for prevProps and nextProps to\n    //  determine if any of the sources changed\n    let sourcesChanged = false;\n    const prevSrcDict = {};\n    const nextSrcDict = {};\n    this.getSrcTypes().forEach(srcType => {\n      if (this.props[srcType.name] !== nextProps[srcType.name]) {\n        sourcesChanged = true;\n\n        prevSrcDict[this.props[srcType.name]] = true;\n        nextSrcDict[nextProps[srcType.name]] = true;\n      }\n    });\n\n    if (sourcesChanged || this.moveRequested) {\n      // Reset the loaded state for images not rendered next\n      Object.keys(prevSrcDict).forEach(prevSrc => {\n        if (!(prevSrc in nextSrcDict) && prevSrc in this.imageCache) {\n          this.imageCache[prevSrc].loaded = false;\n        }\n      });\n\n      this.moveRequested = false;\n\n      // Load any new images\n      this.loadAllImages(nextProps);\n    }\n  }\n\n  shouldComponentUpdate() {\n    // Wait for move...\n    return !this.moveRequested;\n  }\n\n  componentWillUnmount() {\n    this.didUnmount = true;\n    Object.keys(this.listeners).forEach(type => {\n      this.windowContext.removeEventListener(type, this.listeners[type]);\n    });\n    this.timeouts.forEach(tid => clearTimeout(tid));\n  }\n\n  setTimeout(func, time) {\n    const id = setTimeout(() => {\n      this.timeouts = this.timeouts.filter(tid => tid !== id);\n      func();\n    }, time);\n    this.timeouts.push(id);\n    return id;\n  }\n\n  // Request to transition to the previous image\n  static getTransform({ x = 0, y = 0, zoom = 1, width, targetWidth }) {\n    let nextX = x;\n    const windowWidth = getWindowWidth();\n    if (width > windowWidth) {\n      nextX += (windowWidth - width) / 2;\n    }\n    const scaleFactor = zoom * (targetWidth / width);\n\n    return {\n      transform: `translate3d(${nextX}px,${y}px,0) scale3d(${scaleFactor},${scaleFactor},1)`,\n    };\n  }\n\n  setPreventInnerClose() {\n    if (this.preventInnerCloseTimeout) {\n      this.clearTimeout(this.preventInnerCloseTimeout);\n    }\n    this.preventInnerClose = true;\n    this.preventInnerCloseTimeout = this.setTimeout(() => {\n      this.preventInnerClose = false;\n      this.preventInnerCloseTimeout = null;\n    }, 100);\n  }\n\n  // Get info for the best suited image to display with the given srcType\n  getBestImageForType(srcType) {\n    let imageSrc = this.props[srcType];\n    let fitSizes = {};\n\n    if (this.isImageLoaded(imageSrc)) {\n      // Use full-size image if available\n      fitSizes = this.getFitSizes(\n        this.imageCache[imageSrc].width,\n        this.imageCache[imageSrc].height,\n      );\n    } else if (this.isImageLoaded(this.props[`${srcType}Thumbnail`])) {\n      // Fall back to using thumbnail if the image has not been loaded\n      imageSrc = this.props[`${srcType}Thumbnail`];\n      fitSizes = this.getFitSizes(\n        this.imageCache[imageSrc].width,\n        this.imageCache[imageSrc].height,\n        true,\n      );\n    } else {\n      return null;\n    }\n\n    return {\n      src: imageSrc,\n      height: this.imageCache[imageSrc].height,\n      width: this.imageCache[imageSrc].width,\n      targetHeight: fitSizes.height,\n      targetWidth: fitSizes.width,\n    };\n  }\n\n  // Get sizing for when an image is larger than the window\n  getFitSizes(width, height, stretch) {\n    const boxSize = this.getLightboxRect();\n    let maxHeight;\n    let maxWidth;\n    if (boxSize.width < this.props.mobileSizeBreakpoint) {\n      maxHeight = boxSize.height - this.props.imageMobilePadding * 2;\n      maxWidth = boxSize.width - this.props.imageMobilePadding * 2;\n    } else {\n      maxHeight = boxSize.height - this.props.imagePadding * 2;\n      maxWidth = boxSize.width - this.props.imagePadding * 2;\n    }\n\n    if (!stretch) {\n      maxHeight = Math.min(maxHeight, height);\n      maxWidth = Math.min(maxWidth, width);\n    }\n\n    const maxRatio = maxWidth / maxHeight;\n    const srcRatio = width / height;\n\n    if (maxRatio > srcRatio) {\n      // height is the constraining dimension of the photo\n      return {\n        width: (width * maxHeight) / height,\n        height: maxHeight,\n      };\n    }\n\n    return {\n      width: maxWidth,\n      height: (height * maxWidth) / width,\n    };\n  }\n\n  getMaxOffsets(zoomLevel = this.state.zoomLevel) {\n    const currentImageInfo = this.getBestImageForType('mainSrc');\n    if (currentImageInfo === null) {\n      return { maxX: 0, minX: 0, maxY: 0, minY: 0 };\n    }\n\n    const boxSize = this.getLightboxRect();\n    const zoomMultiplier = this.getZoomMultiplier(zoomLevel);\n\n    let maxX = 0;\n    if (zoomMultiplier * currentImageInfo.width - boxSize.width < 0) {\n      // if there is still blank space in the X dimension, don't limit except to the opposite edge\n      maxX = (boxSize.width - zoomMultiplier * currentImageInfo.width) / 2;\n    } else {\n      maxX = (zoomMultiplier * currentImageInfo.width - boxSize.width) / 2;\n    }\n\n    let maxY = 0;\n    if (zoomMultiplier * currentImageInfo.height - boxSize.height < 0) {\n      // if there is still blank space in the Y dimension, don't limit except to the opposite edge\n      maxY = (boxSize.height - zoomMultiplier * currentImageInfo.height) / 2;\n    } else {\n      maxY = (zoomMultiplier * currentImageInfo.height - boxSize.height) / 2;\n    }\n\n    return {\n      maxX,\n      maxY,\n      minX: -1 * maxX,\n      minY: -1 * maxY,\n    };\n  }\n\n  // Get image src types\n  getSrcTypes() {\n    return [\n      {\n        name: 'mainSrc',\n        keyEnding: `i${this.keyCounter}`,\n      },\n      {\n        name: 'mainSrcThumbnail',\n        keyEnding: `t${this.keyCounter}`,\n      },\n      {\n        name: 'nextSrc',\n        keyEnding: `i${this.keyCounter + 1}`,\n      },\n      {\n        name: 'nextSrcThumbnail',\n        keyEnding: `t${this.keyCounter + 1}`,\n      },\n      {\n        name: 'prevSrc',\n        keyEnding: `i${this.keyCounter - 1}`,\n      },\n      {\n        name: 'prevSrcThumbnail',\n        keyEnding: `t${this.keyCounter - 1}`,\n      },\n    ];\n  }\n\n  /**\n   * Get sizing when the image is scaled\n   */\n  getZoomMultiplier(zoomLevel = this.state.zoomLevel) {\n    return ZOOM_RATIO ** zoomLevel;\n  }\n\n  /**\n   * Get the size of the lightbox in pixels\n   */\n  getLightboxRect() {\n    if (this.outerEl) {\n      return this.outerEl.getBoundingClientRect();\n    }\n\n    return {\n      width: getWindowWidth(),\n      height: getWindowHeight(),\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    };\n  }\n\n  clearTimeout(id) {\n    this.timeouts = this.timeouts.filter(tid => tid !== id);\n    clearTimeout(id);\n  }\n\n  // Change zoom level\n  changeZoom(zoomLevel, clientX, clientY) {\n    // Ignore if zoom disabled\n    if (!this.props.enableZoom) {\n      return;\n    }\n\n    // Constrain zoom level to the set bounds\n    const nextZoomLevel = Math.max(\n      MIN_ZOOM_LEVEL,\n      Math.min(MAX_ZOOM_LEVEL, zoomLevel),\n    );\n\n    // Ignore requests that don't change the zoom level\n    if (nextZoomLevel === this.state.zoomLevel) {\n      return;\n    }\n    if (nextZoomLevel === MIN_ZOOM_LEVEL) {\n      // Snap back to center if zoomed all the way out\n      this.setState({\n        zoomLevel: nextZoomLevel,\n        offsetX: 0,\n        offsetY: 0,\n      });\n\n      return;\n    }\n\n    const imageBaseSize = this.getBestImageForType('mainSrc');\n    if (imageBaseSize === null) {\n      return;\n    }\n\n    const currentZoomMultiplier = this.getZoomMultiplier();\n    const nextZoomMultiplier = this.getZoomMultiplier(nextZoomLevel);\n\n    // Default to the center of the image to zoom when no mouse position specified\n    const boxRect = this.getLightboxRect();\n    const pointerX =\n      typeof clientX !== 'undefined'\n        ? clientX - boxRect.left\n        : boxRect.width / 2;\n    const pointerY =\n      typeof clientY !== 'undefined'\n        ? clientY - boxRect.top\n        : boxRect.height / 2;\n\n    const currentImageOffsetX =\n      (boxRect.width - imageBaseSize.width * currentZoomMultiplier) / 2;\n    const currentImageOffsetY =\n      (boxRect.height - imageBaseSize.height * currentZoomMultiplier) / 2;\n\n    const currentImageRealOffsetX = currentImageOffsetX - this.state.offsetX;\n    const currentImageRealOffsetY = currentImageOffsetY - this.state.offsetY;\n\n    const currentPointerXRelativeToImage =\n      (pointerX - currentImageRealOffsetX) / currentZoomMultiplier;\n    const currentPointerYRelativeToImage =\n      (pointerY - currentImageRealOffsetY) / currentZoomMultiplier;\n\n    const nextImageRealOffsetX =\n      pointerX - currentPointerXRelativeToImage * nextZoomMultiplier;\n    const nextImageRealOffsetY =\n      pointerY - currentPointerYRelativeToImage * nextZoomMultiplier;\n\n    const nextImageOffsetX =\n      (boxRect.width - imageBaseSize.width * nextZoomMultiplier) / 2;\n    const nextImageOffsetY =\n      (boxRect.height - imageBaseSize.height * nextZoomMultiplier) / 2;\n\n    let nextOffsetX = nextImageOffsetX - nextImageRealOffsetX;\n    let nextOffsetY = nextImageOffsetY - nextImageRealOffsetY;\n\n    // When zooming out, limit the offset so things don't get left askew\n    if (this.currentAction !== ACTION_PINCH) {\n      const maxOffsets = this.getMaxOffsets();\n      if (this.state.zoomLevel > nextZoomLevel) {\n        nextOffsetX = Math.max(\n          maxOffsets.minX,\n          Math.min(maxOffsets.maxX, nextOffsetX),\n        );\n        nextOffsetY = Math.max(\n          maxOffsets.minY,\n          Math.min(maxOffsets.maxY, nextOffsetY),\n        );\n      }\n    }\n\n    this.setState({\n      zoomLevel: nextZoomLevel,\n      offsetX: nextOffsetX,\n      offsetY: nextOffsetY,\n    });\n  }\n\n  closeIfClickInner(event) {\n    if (\n      !this.preventInnerClose &&\n      event.target.className.search(/\\bril-inner\\b/) > -1\n    ) {\n      this.requestClose(event);\n    }\n  }\n\n  /**\n   * Handle user keyboard actions\n   */\n  handleKeyInput(event) {\n    event.stopPropagation();\n\n    // Ignore key input during animations\n    if (this.isAnimating()) {\n      return;\n    }\n\n    // Allow slightly faster navigation through the images when user presses keys repeatedly\n    if (event.type === 'keyup') {\n      this.lastKeyDownTime -= this.props.keyRepeatKeyupBonus;\n      return;\n    }\n\n    const keyCode = event.which || event.keyCode;\n\n    // Ignore key presses that happen too close to each other (when rapid fire key pressing or holding down the key)\n    // But allow it if it's a lightbox closing action\n    const currentTime = new Date();\n    if (\n      currentTime.getTime() - this.lastKeyDownTime <\n        this.props.keyRepeatLimit &&\n      keyCode !== KEYS.ESC\n    ) {\n      return;\n    }\n    this.lastKeyDownTime = currentTime.getTime();\n\n    switch (keyCode) {\n      // ESC key closes the lightbox\n      case KEYS.ESC:\n        event.preventDefault();\n        this.requestClose(event);\n        break;\n\n      // Left arrow key moves to previous image\n      case KEYS.LEFT_ARROW:\n        if (!this.props.prevSrc) {\n          return;\n        }\n\n        event.preventDefault();\n        this.keyPressed = true;\n        this.requestMovePrev(event);\n        break;\n\n      // Right arrow key moves to next image\n      case KEYS.RIGHT_ARROW:\n        if (!this.props.nextSrc) {\n          return;\n        }\n\n        event.preventDefault();\n        this.keyPressed = true;\n        this.requestMoveNext(event);\n        break;\n\n      default:\n    }\n  }\n\n  /**\n   * Handle a mouse wheel event over the lightbox container\n   */\n  handleOuterMousewheel(event) {\n    // Prevent scrolling of the background\n    event.preventDefault();\n    event.stopPropagation();\n\n    const xThreshold = WHEEL_MOVE_X_THRESHOLD;\n    let actionDelay = 0;\n    const imageMoveDelay = 500;\n\n    this.clearTimeout(this.resetScrollTimeout);\n    this.resetScrollTimeout = this.setTimeout(() => {\n      this.scrollX = 0;\n      this.scrollY = 0;\n    }, 300);\n\n    // Prevent rapid-fire zoom behavior\n    if (this.wheelActionTimeout !== null || this.isAnimating()) {\n      return;\n    }\n\n    if (Math.abs(event.deltaY) < Math.abs(event.deltaX)) {\n      // handle horizontal scrolls with image moves\n      this.scrollY = 0;\n      this.scrollX += event.deltaX;\n\n      const bigLeapX = xThreshold / 2;\n      // If the scroll amount has accumulated sufficiently, or a large leap was taken\n      if (this.scrollX >= xThreshold || event.deltaX >= bigLeapX) {\n        // Scroll right moves to next\n        this.requestMoveNext(event);\n        actionDelay = imageMoveDelay;\n        this.scrollX = 0;\n      } else if (\n        this.scrollX <= -1 * xThreshold ||\n        event.deltaX <= -1 * bigLeapX\n      ) {\n        // Scroll left moves to previous\n        this.requestMovePrev(event);\n        actionDelay = imageMoveDelay;\n        this.scrollX = 0;\n      }\n    }\n\n    // Allow successive actions after the set delay\n    if (actionDelay !== 0) {\n      this.wheelActionTimeout = this.setTimeout(() => {\n        this.wheelActionTimeout = null;\n      }, actionDelay);\n    }\n  }\n\n  handleImageMouseWheel(event) {\n    event.preventDefault();\n    const yThreshold = WHEEL_MOVE_Y_THRESHOLD;\n\n    if (Math.abs(event.deltaY) >= Math.abs(event.deltaX)) {\n      event.stopPropagation();\n      // If the vertical scroll amount was large enough, perform a zoom\n      if (Math.abs(event.deltaY) < yThreshold) {\n        return;\n      }\n\n      this.scrollX = 0;\n      this.scrollY += event.deltaY;\n\n      this.changeZoom(\n        this.state.zoomLevel - event.deltaY,\n        event.clientX,\n        event.clientY,\n      );\n    }\n  }\n\n  /**\n   * Handle a double click on the current image\n   */\n  handleImageDoubleClick(event) {\n    if (this.state.zoomLevel > MIN_ZOOM_LEVEL) {\n      // A double click when zoomed in zooms all the way out\n      this.changeZoom(MIN_ZOOM_LEVEL, event.clientX, event.clientY);\n    } else {\n      // A double click when zoomed all the way out zooms in\n      this.changeZoom(\n        this.state.zoomLevel + ZOOM_BUTTON_INCREMENT_SIZE,\n        event.clientX,\n        event.clientY,\n      );\n    }\n  }\n\n  shouldHandleEvent(source) {\n    if (this.eventsSource === source) {\n      return true;\n    }\n    if (this.eventsSource === SOURCE_ANY) {\n      this.eventsSource = source;\n      return true;\n    }\n    switch (source) {\n      case SOURCE_MOUSE:\n        return false;\n      case SOURCE_TOUCH:\n        this.eventsSource = SOURCE_TOUCH;\n        this.filterPointersBySource();\n        return true;\n      case SOURCE_POINTER:\n        if (this.eventsSource === SOURCE_MOUSE) {\n          this.eventsSource = SOURCE_POINTER;\n          this.filterPointersBySource();\n          return true;\n        }\n        return false;\n      default:\n        return false;\n    }\n  }\n\n  addPointer(pointer) {\n    this.pointerList.push(pointer);\n  }\n\n  removePointer(pointer) {\n    this.pointerList = this.pointerList.filter(({ id }) => id !== pointer.id);\n  }\n\n  filterPointersBySource() {\n    this.pointerList = this.pointerList.filter(\n      ({ source }) => source === this.eventsSource,\n    );\n  }\n\n  handleMouseDown(event) {\n    if (\n      this.shouldHandleEvent(SOURCE_MOUSE) &&\n      Lightbox.isTargetMatchImage(event.target)\n    ) {\n      this.addPointer(Lightbox.parseMouseEvent(event));\n      this.multiPointerStart(event);\n    }\n  }\n\n  handleMouseMove(event) {\n    if (this.shouldHandleEvent(SOURCE_MOUSE)) {\n      this.multiPointerMove(event, [Lightbox.parseMouseEvent(event)]);\n    }\n  }\n\n  handleMouseUp(event) {\n    if (this.shouldHandleEvent(SOURCE_MOUSE)) {\n      this.removePointer(Lightbox.parseMouseEvent(event));\n      this.multiPointerEnd(event);\n    }\n  }\n\n  handlePointerEvent(event) {\n    if (this.shouldHandleEvent(SOURCE_POINTER)) {\n      switch (event.type) {\n        case 'pointerdown':\n          if (Lightbox.isTargetMatchImage(event.target)) {\n            this.addPointer(Lightbox.parsePointerEvent(event));\n            this.multiPointerStart(event);\n          }\n          break;\n        case 'pointermove':\n          this.multiPointerMove(event, [Lightbox.parsePointerEvent(event)]);\n          break;\n        case 'pointerup':\n        case 'pointercancel':\n          this.removePointer(Lightbox.parsePointerEvent(event));\n          this.multiPointerEnd(event);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  handleTouchStart(event) {\n    if (\n      this.shouldHandleEvent(SOURCE_TOUCH) &&\n      Lightbox.isTargetMatchImage(event.target)\n    ) {\n      [].forEach.call(event.changedTouches, eventTouch =>\n        this.addPointer(Lightbox.parseTouchPointer(eventTouch)),\n      );\n      this.multiPointerStart(event);\n    }\n  }\n\n  handleTouchMove(event) {\n    if (this.shouldHandleEvent(SOURCE_TOUCH)) {\n      this.multiPointerMove(\n        event,\n        [].map.call(event.changedTouches, eventTouch =>\n          Lightbox.parseTouchPointer(eventTouch),\n        ),\n      );\n    }\n  }\n\n  handleTouchEnd(event) {\n    if (this.shouldHandleEvent(SOURCE_TOUCH)) {\n      [].map.call(event.changedTouches, touch =>\n        this.removePointer(Lightbox.parseTouchPointer(touch)),\n      );\n      this.multiPointerEnd(event);\n    }\n  }\n\n  decideMoveOrSwipe(pointer) {\n    if (this.state.zoomLevel <= MIN_ZOOM_LEVEL) {\n      this.handleSwipeStart(pointer);\n    } else {\n      this.handleMoveStart(pointer);\n    }\n  }\n\n  multiPointerStart(event) {\n    this.handleEnd(null);\n    switch (this.pointerList.length) {\n      case 1: {\n        event.preventDefault();\n        this.decideMoveOrSwipe(this.pointerList[0]);\n        break;\n      }\n      case 2: {\n        event.preventDefault();\n        this.handlePinchStart(this.pointerList);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  multiPointerMove(event, pointerList) {\n    switch (this.currentAction) {\n      case ACTION_MOVE: {\n        event.preventDefault();\n        this.handleMove(pointerList[0]);\n        break;\n      }\n      case ACTION_SWIPE: {\n        event.preventDefault();\n        this.handleSwipe(pointerList[0]);\n        break;\n      }\n      case ACTION_PINCH: {\n        event.preventDefault();\n        this.handlePinch(pointerList);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  multiPointerEnd(event) {\n    if (this.currentAction !== ACTION_NONE) {\n      this.setPreventInnerClose();\n      this.handleEnd(event);\n    }\n    switch (this.pointerList.length) {\n      case 0: {\n        this.eventsSource = SOURCE_ANY;\n        break;\n      }\n      case 1: {\n        event.preventDefault();\n        this.decideMoveOrSwipe(this.pointerList[0]);\n        break;\n      }\n      case 2: {\n        event.preventDefault();\n        this.handlePinchStart(this.pointerList);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  handleEnd(event) {\n    switch (this.currentAction) {\n      case ACTION_MOVE:\n        this.handleMoveEnd(event);\n        break;\n      case ACTION_SWIPE:\n        this.handleSwipeEnd(event);\n        break;\n      case ACTION_PINCH:\n        this.handlePinchEnd(event);\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Handle move start over the lightbox container\n  // This happens:\n  // - On a mouseDown event\n  // - On a touchstart event\n  handleMoveStart({ x: clientX, y: clientY }) {\n    if (!this.props.enableZoom) {\n      return;\n    }\n    this.currentAction = ACTION_MOVE;\n    this.moveStartX = clientX;\n    this.moveStartY = clientY;\n    this.moveStartOffsetX = this.state.offsetX;\n    this.moveStartOffsetY = this.state.offsetY;\n  }\n\n  // Handle dragging over the lightbox container\n  // This happens:\n  // - After a mouseDown and before a mouseUp event\n  // - After a touchstart and before a touchend event\n  handleMove({ x: clientX, y: clientY }) {\n    const newOffsetX = this.moveStartX - clientX + this.moveStartOffsetX;\n    const newOffsetY = this.moveStartY - clientY + this.moveStartOffsetY;\n    if (\n      this.state.offsetX !== newOffsetX ||\n      this.state.offsetY !== newOffsetY\n    ) {\n      this.setState({\n        offsetX: newOffsetX,\n        offsetY: newOffsetY,\n      });\n    }\n  }\n\n  handleMoveEnd() {\n    this.currentAction = ACTION_NONE;\n    this.moveStartX = 0;\n    this.moveStartY = 0;\n    this.moveStartOffsetX = 0;\n    this.moveStartOffsetY = 0;\n    // Snap image back into frame if outside max offset range\n    const maxOffsets = this.getMaxOffsets();\n    const nextOffsetX = Math.max(\n      maxOffsets.minX,\n      Math.min(maxOffsets.maxX, this.state.offsetX),\n    );\n    const nextOffsetY = Math.max(\n      maxOffsets.minY,\n      Math.min(maxOffsets.maxY, this.state.offsetY),\n    );\n    if (\n      nextOffsetX !== this.state.offsetX ||\n      nextOffsetY !== this.state.offsetY\n    ) {\n      this.setState({\n        offsetX: nextOffsetX,\n        offsetY: nextOffsetY,\n        shouldAnimate: true,\n      });\n      this.setTimeout(() => {\n        this.setState({ shouldAnimate: false });\n      }, this.props.animationDuration);\n    }\n  }\n\n  handleSwipeStart({ x: clientX, y: clientY }) {\n    this.currentAction = ACTION_SWIPE;\n    this.swipeStartX = clientX;\n    this.swipeStartY = clientY;\n    this.swipeEndX = clientX;\n    this.swipeEndY = clientY;\n  }\n\n  handleSwipe({ x: clientX, y: clientY }) {\n    this.swipeEndX = clientX;\n    this.swipeEndY = clientY;\n  }\n\n  handleSwipeEnd(event) {\n    const xDiff = this.swipeEndX - this.swipeStartX;\n    const xDiffAbs = Math.abs(xDiff);\n    const yDiffAbs = Math.abs(this.swipeEndY - this.swipeStartY);\n\n    this.currentAction = ACTION_NONE;\n    this.swipeStartX = 0;\n    this.swipeStartY = 0;\n    this.swipeEndX = 0;\n    this.swipeEndY = 0;\n\n    if (!event || this.isAnimating() || xDiffAbs < yDiffAbs * 1.5) {\n      return;\n    }\n\n    if (xDiffAbs < MIN_SWIPE_DISTANCE) {\n      const boxRect = this.getLightboxRect();\n      if (xDiffAbs < boxRect.width / 4) {\n        return;\n      }\n    }\n\n    if (xDiff > 0 && this.props.prevSrc) {\n      event.preventDefault();\n      this.requestMovePrev();\n    } else if (xDiff < 0 && this.props.nextSrc) {\n      event.preventDefault();\n      this.requestMoveNext();\n    }\n  }\n\n  calculatePinchDistance([a, b] = this.pinchTouchList) {\n    return Math.sqrt((a.x - b.x) ** 2 + (a.y - b.y) ** 2);\n  }\n\n  calculatePinchCenter([a, b] = this.pinchTouchList) {\n    return {\n      x: a.x - (a.x - b.x) / 2,\n      y: a.y - (a.y - b.y) / 2,\n    };\n  }\n\n  handlePinchStart(pointerList) {\n    if (!this.props.enableZoom) {\n      return;\n    }\n    this.currentAction = ACTION_PINCH;\n    this.pinchTouchList = pointerList.map(({ id, x, y }) => ({ id, x, y }));\n    this.pinchDistance = this.calculatePinchDistance();\n  }\n\n  handlePinch(pointerList) {\n    this.pinchTouchList = this.pinchTouchList.map(oldPointer => {\n      for (let i = 0; i < pointerList.length; i += 1) {\n        if (pointerList[i].id === oldPointer.id) {\n          return pointerList[i];\n        }\n      }\n\n      return oldPointer;\n    });\n\n    const newDistance = this.calculatePinchDistance();\n\n    const zoomLevel = this.state.zoomLevel + newDistance - this.pinchDistance;\n\n    this.pinchDistance = newDistance;\n    const { x: clientX, y: clientY } = this.calculatePinchCenter(\n      this.pinchTouchList,\n    );\n    this.changeZoom(zoomLevel, clientX, clientY);\n  }\n\n  handlePinchEnd() {\n    this.currentAction = ACTION_NONE;\n    this.pinchTouchList = null;\n    this.pinchDistance = 0;\n  }\n\n  // Handle the window resize event\n  handleWindowResize() {\n    this.clearTimeout(this.resizeTimeout);\n    this.resizeTimeout = this.setTimeout(this.forceUpdate.bind(this), 100);\n  }\n\n  handleZoomInButtonClick() {\n    const nextZoomLevel = this.state.zoomLevel + ZOOM_BUTTON_INCREMENT_SIZE;\n    this.changeZoom(nextZoomLevel);\n    if (nextZoomLevel === MAX_ZOOM_LEVEL) {\n      this.zoomOutBtn.focus();\n    }\n  }\n\n  handleZoomOutButtonClick() {\n    const nextZoomLevel = this.state.zoomLevel - ZOOM_BUTTON_INCREMENT_SIZE;\n    this.changeZoom(nextZoomLevel);\n    if (nextZoomLevel === MIN_ZOOM_LEVEL) {\n      this.zoomInBtn.focus();\n    }\n  }\n\n  handleCaptionMousewheel(event) {\n    event.stopPropagation();\n\n    if (!this.caption) {\n      return;\n    }\n\n    const { height } = this.caption.getBoundingClientRect();\n    const { scrollHeight, scrollTop } = this.caption;\n    if (\n      (event.deltaY > 0 && height + scrollTop >= scrollHeight) ||\n      (event.deltaY < 0 && scrollTop <= 0)\n    ) {\n      event.preventDefault();\n    }\n  }\n\n  // Detach key and mouse input events\n  isAnimating() {\n    return this.state.shouldAnimate || this.state.isClosing;\n  }\n\n  // Check if image is loaded\n  isImageLoaded(imageSrc) {\n    return (\n      imageSrc &&\n      imageSrc in this.imageCache &&\n      this.imageCache[imageSrc].loaded\n    );\n  }\n\n  // Load image from src and call callback with image width and height on load\n  loadImage(srcType, imageSrc, done) {\n    // Return the image info if it is already cached\n    if (this.isImageLoaded(imageSrc)) {\n      this.setTimeout(() => {\n        done();\n      }, 1);\n      return;\n    }\n\n    const inMemoryImage = new global.Image();\n\n    if (this.props.imageCrossOrigin) {\n      inMemoryImage.crossOrigin = this.props.imageCrossOrigin;\n    }\n\n    inMemoryImage.onerror = errorEvent => {\n      this.props.onImageLoadError(imageSrc, srcType, errorEvent);\n\n      // failed to load so set the state loadErrorStatus\n      this.setState(prevState => ({\n        loadErrorStatus: { ...prevState.loadErrorStatus, [srcType]: true },\n      }));\n\n      done(errorEvent);\n    };\n\n    inMemoryImage.onload = () => {\n      this.props.onImageLoad(imageSrc, srcType, inMemoryImage);\n\n      this.imageCache[imageSrc] = {\n        loaded: true,\n        width: inMemoryImage.width,\n        height: inMemoryImage.height,\n      };\n\n      done();\n    };\n\n    inMemoryImage.src = imageSrc;\n  }\n\n  // Load all images and their thumbnails\n  loadAllImages(props = this.props) {\n    const generateLoadDoneCallback = (srcType, imageSrc) => err => {\n      // Give up showing image on error\n      if (err) {\n        return;\n      }\n\n      // Don't rerender if the src is not the same as when the load started\n      // or if the component has unmounted\n      if (this.props[srcType] !== imageSrc || this.didUnmount) {\n        return;\n      }\n\n      // Force rerender with the new image\n      this.forceUpdate();\n    };\n\n    // Load the images\n    this.getSrcTypes().forEach(srcType => {\n      const type = srcType.name;\n\n      // there is no error when we try to load it initially\n      if (props[type] && this.state.loadErrorStatus[type]) {\n        this.setState(prevState => ({\n          loadErrorStatus: { ...prevState.loadErrorStatus, [type]: false },\n        }));\n      }\n\n      // Load unloaded images\n      if (props[type] && !this.isImageLoaded(props[type])) {\n        this.loadImage(\n          type,\n          props[type],\n          generateLoadDoneCallback(type, props[type]),\n        );\n      }\n    });\n  }\n\n  // Request that the lightbox be closed\n  requestClose(event) {\n    // Call the parent close request\n    const closeLightbox = () => this.props.onCloseRequest(event);\n\n    if (\n      this.props.animationDisabled ||\n      (event.type === 'keydown' && !this.props.animationOnKeyInput)\n    ) {\n      // No animation\n      closeLightbox();\n      return;\n    }\n\n    // With animation\n    // Start closing animation\n    this.setState({ isClosing: true });\n\n    // Perform the actual closing at the end of the animation\n    this.setTimeout(closeLightbox, this.props.animationDuration);\n  }\n\n  requestMove(direction, event) {\n    // Reset the zoom level on image move\n    const nextState = {\n      zoomLevel: MIN_ZOOM_LEVEL,\n      offsetX: 0,\n      offsetY: 0,\n    };\n\n    // Enable animated states\n    if (\n      !this.props.animationDisabled &&\n      (!this.keyPressed || this.props.animationOnKeyInput)\n    ) {\n      nextState.shouldAnimate = true;\n      this.setTimeout(\n        () => this.setState({ shouldAnimate: false }),\n        this.props.animationDuration,\n      );\n    }\n    this.keyPressed = false;\n\n    this.moveRequested = true;\n\n    if (direction === 'prev') {\n      this.keyCounter -= 1;\n      this.setState(nextState);\n      this.props.onMovePrevRequest(event);\n    } else {\n      this.keyCounter += 1;\n      this.setState(nextState);\n      this.props.onMoveNextRequest(event);\n    }\n  }\n\n  // Request to transition to the next image\n  requestMoveNext(event) {\n    this.requestMove('next', event);\n  }\n\n  // Request to transition to the previous image\n  requestMovePrev(event) {\n    this.requestMove('prev', event);\n  }\n\n  render() {\n    const {\n      animationDisabled,\n      animationDuration,\n      clickOutsideToClose,\n      discourageDownloads,\n      enableZoom,\n      imageTitle,\n      nextSrc,\n      prevSrc,\n      toolbarButtons,\n      reactModalStyle,\n      onAfterOpen,\n      imageCrossOrigin,\n      reactModalProps,\n    } = this.props;\n    const {\n      zoomLevel,\n      offsetX,\n      offsetY,\n      isClosing,\n      loadErrorStatus,\n    } = this.state;\n\n    const boxSize = this.getLightboxRect();\n    let transitionStyle = {};\n\n    // Transition settings for sliding animations\n    if (!animationDisabled && this.isAnimating()) {\n      transitionStyle = {\n        ...transitionStyle,\n        transition: `transform ${animationDuration}ms`,\n      };\n    }\n\n    // Key endings to differentiate between images with the same src\n    const keyEndings = {};\n    this.getSrcTypes().forEach(({ name, keyEnding }) => {\n      keyEndings[name] = keyEnding;\n    });\n\n    // Images to be displayed\n    const images = [];\n    const addImage = (srcType, imageClass, transforms) => {\n      // Ignore types that have no source defined for their full size image\n      if (!this.props[srcType]) {\n        return;\n      }\n      const bestImageInfo = this.getBestImageForType(srcType);\n\n      const imageStyle = {\n        ...transitionStyle,\n        ...Lightbox.getTransform({\n          ...transforms,\n          ...bestImageInfo,\n        }),\n      };\n\n      if (zoomLevel > MIN_ZOOM_LEVEL) {\n        imageStyle.cursor = 'move';\n      }\n\n      // support IE 9 and 11\n      const hasTrueValue = object =>\n        Object.keys(object).some(key => object[key]);\n\n      // when error on one of the loads then push custom error stuff\n      if (bestImageInfo === null && hasTrueValue(loadErrorStatus)) {\n        images.push(\n          <div\n            className={`${imageClass} ${s.ril__image}`}\n            style={imageStyle}\n            key={this.props[srcType] + keyEndings[srcType]}\n          >\n            <div className=\"ril__errorContainer\">\n              {this.props.imageLoadErrorMessage}\n            </div>\n          </div>,\n        );\n\n        return;\n      }\n      if (bestImageInfo === null) {\n        const loadingIcon = (\n          <div\n            className={`${s.ril__loadingCircle} ${\n              s.ril__loadingContainer__icon\n            }`}\n          >\n            {[...new Array(12)].map((_, index) => (\n              <div\n                // eslint-disable-next-line react/no-array-index-key\n                key={index}\n                className={s.ril__loadingCirclePoint}\n              />\n            ))}\n          </div>\n        );\n\n        // Fall back to loading icon if the thumbnail has not been loaded\n        images.push(\n          <div\n            className={`${imageClass} ${s.ril__image}`}\n            style={imageStyle}\n            key={this.props[srcType] + keyEndings[srcType]}\n          >\n            <div className={s.ril__loadingContainer}>{loadingIcon}</div>\n          </div>,\n        );\n\n        return;\n      }\n\n      const imageSrc = bestImageInfo.src;\n      if (discourageDownloads) {\n        imageStyle.backgroundImage = `url('${imageSrc}')`;\n        images.push(\n          <div\n            className={`${imageClass} ${s.ril__image} ${\n              s.ril__imageDiscourager\n            }`}\n            onDoubleClick={this.handleImageDoubleClick}\n            onWheel={this.handleImageMouseWheel}\n            style={imageStyle}\n            key={imageSrc + keyEndings[srcType]}\n          >\n            <div className={s.ril__downloadBlocker} />\n          </div>,\n        );\n      } else {\n        images.push(\n          <img\n            {...(imageCrossOrigin ? { crossOrigin: imageCrossOrigin } : {})}\n            className={`${imageClass} ${s.ril__image}`}\n            onDoubleClick={this.handleImageDoubleClick}\n            onWheel={this.handleImageMouseWheel}\n            onDragStart={e => e.preventDefault()}\n            style={imageStyle}\n            src={imageSrc}\n            key={imageSrc + keyEndings[srcType]}\n            alt={\n              typeof imageTitle === 'string' ? imageTitle : translate('Image')\n            }\n            draggable={false}\n          />,\n        );\n      }\n    };\n\n    const zoomMultiplier = this.getZoomMultiplier();\n    // Next Image (displayed on the right)\n    addImage('nextSrc', 'ril-image-next ril__imageNext', {\n      x: boxSize.width,\n    });\n    // Main Image\n    addImage('mainSrc', 'ril-image-current', {\n      x: -1 * offsetX,\n      y: -1 * offsetY,\n      zoom: zoomMultiplier,\n    });\n    // Previous Image (displayed on the left)\n\n    addImage('prevSrc', 'ril-image-prev ril__imagePrev', {\n      x: -1 * boxSize.width,\n    });\n\n    const modalStyle = {\n      overlay: {\n        zIndex: 1000,\n        backgroundColor: 'transparent',\n        ...reactModalStyle.overlay, // Allow style overrides via props\n      },\n      content: {\n        backgroundColor: 'transparent',\n        overflow: 'hidden', // Needed, otherwise keyboard shortcuts scroll the page\n        border: 'none',\n        borderRadius: 0,\n        padding: 0,\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        ...reactModalStyle.content, // Allow style overrides via props\n      },\n    };\n\n    return (\n      <Modal\n        isOpen\n        onRequestClose={clickOutsideToClose ? this.requestClose : undefined}\n        onAfterOpen={() => {\n          // Focus on the div with key handlers\n          if (this.outerEl) {\n            this.outerEl.focus();\n          }\n\n          onAfterOpen();\n        }}\n        style={modalStyle}\n        contentLabel={translate('Lightbox')}\n        appElement={\n          typeof global.window !== 'undefined'\n            ? global.window.document.body\n            : undefined\n        }\n        {...reactModalProps}\n      >\n        <div // eslint-disable-line jsx-a11y/no-static-element-interactions\n          // Floating modal with closing animations\n          className={`${s.ril__outer} ${s.ril__outerAnimating} ${\n            this.props.wrapperClassName\n          } ${isClosing ? `${s.ril__outerClosing}` : ''}`}\n          style={{\n            transition: `opacity ${animationDuration}ms`,\n            animationDuration: `${animationDuration}ms`,\n            animationDirection: isClosing ? 'normal' : 'reverse',\n          }}\n          ref={el => {\n            this.outerEl = el;\n          }}\n          onWheel={this.handleOuterMousewheel}\n          onMouseMove={this.handleMouseMove}\n          onMouseDown={this.handleMouseDown}\n          onTouchStart={this.handleTouchStart}\n          onTouchMove={this.handleTouchMove}\n          tabIndex=\"-1\" // Enables key handlers on div\n          onKeyDown={this.handleKeyInput}\n          onKeyUp={this.handleKeyInput}\n        >\n          <div // eslint-disable-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events\n            className={`ril-inner ${s.ril__inner}`}\n            onClick={clickOutsideToClose ? this.closeIfClickInner : undefined}\n          >\n            {images}\n          </div>\n          {prevSrc && (\n            <button // Move to previous image button\n              type=\"button\"\n              className={`${s.ril__navButtons} ${s.ril__navButtonPrev}`}\n              key=\"prev\"\n              aria-label={this.props.prevLabel}\n              onClick={!this.isAnimating() ? this.requestMovePrev : undefined} // Ignore clicks during animation\n            />\n          )}\n\n          {nextSrc && (\n            <button // Move to next image button\n              type=\"button\"\n              className={`${s.ril__navButtons} ${s.ril__navButtonNext}`}\n              key=\"next\"\n              aria-label={this.props.nextLabel}\n              onClick={!this.isAnimating() ? this.requestMoveNext : undefined} // Ignore clicks during animation\n            />\n          )}\n\n          <div // Lightbox toolbar\n            className={s.ril__toolbar}\n          >\n            <ul className={`${s.ril__toolbarSide} ${s.ril__toolbarLeftSide}`}>\n              <li className={s.ril__toolbarItem}>\n                <span className={s.ril__toolbarItemChild}>{imageTitle}</span>\n              </li>\n            </ul>\n\n            <ul className={`${s.ril__toolbarSide} ${s.ril__toolbarRightSide}`}>\n              {toolbarButtons &&\n                toolbarButtons.map((button, i) => (\n                  <li key={`button_${i + 1}`} className={s.ril__toolbarItem}>\n                    {button}\n                  </li>\n                ))}\n\n              {enableZoom && (\n                <li className={s.ril__toolbarItem}>\n                  <button // Lightbox zoom in button\n                    type=\"button\"\n                    key=\"zoom-in\"\n                    aria-label={this.props.zoomInLabel}\n                    className={[\n                      `${s.ril__toolbarItemChild}`,\n                      `${s.ril__builtinButton}`,\n                      `${s.ril__zoomInButton}`,\n                      ...(zoomLevel === MAX_ZOOM_LEVEL\n                        ? [`${s.ril__builtinButtonDisabled}`]\n                        : []),\n                    ].join(' ')}\n                    ref={el => {\n                      this.zoomInBtn = el;\n                    }}\n                    disabled={\n                      this.isAnimating() || zoomLevel === MAX_ZOOM_LEVEL\n                    }\n                    onClick={\n                      !this.isAnimating() && zoomLevel !== MAX_ZOOM_LEVEL\n                        ? this.handleZoomInButtonClick\n                        : undefined\n                    }\n                  />\n                </li>\n              )}\n\n              {enableZoom && (\n                <li className={s.ril__toolbarItem}>\n                  <button // Lightbox zoom out button\n                    type=\"button\"\n                    key=\"zoom-out\"\n                    aria-label={this.props.zoomOutLabel}\n                    className={[\n                      `${s.ril__toolbarItemChild}`,\n                      `${s.ril__builtinButton}`,\n                      `${s.ril__zoomOutButton}`,\n                      ...(zoomLevel === MIN_ZOOM_LEVEL\n                        ? [s.ril__builtinButtonDisabled]\n                        : []),\n                    ].join(' ')}\n                    ref={el => {\n                      this.zoomOutBtn = el;\n                    }}\n                    disabled={\n                      this.isAnimating() || zoomLevel === MIN_ZOOM_LEVEL\n                    }\n                    onClick={\n                      !this.isAnimating() && zoomLevel !== MIN_ZOOM_LEVEL\n                        ? this.handleZoomOutButtonClick\n                        : undefined\n                    }\n                  />\n                </li>\n              )}\n\n              <li className={s.ril__toolbarItem}>\n                <button // Lightbox close button\n                  type=\"button\"\n                  key=\"close\"\n                  aria-label={this.props.closeLabel}\n                  className={`${s.ril__toolbarItemChild} ${\n                    s.ril__builtinButton\n                  } ${s.ril__closeButton}`}\n                  onClick={!this.isAnimating() ? this.requestClose : undefined} // Ignore clicks during animation\n                />\n              </li>\n            </ul>\n          </div>\n\n          {this.props.imageCaption && (\n            // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n            <div // Image caption`\n              onWheel={this.handleCaptionMousewheel}\n              onMouseDown={event => event.stopPropagation()}\n              className={s.ril__caption}\n              ref={el => {\n                this.caption = el;\n              }}\n            >\n              <div className={s.ril__captionContent}>\n                {this.props.imageCaption}\n              </div>\n            </div>\n          )}\n        </div>\n      </Modal>\n    );\n  }\n}\n\nLightbox.propTypes = {\n  //-----------------------------\n  // Image sources\n  //-----------------------------\n\n  // Main display image url\n  mainSrc: PropTypes.string.isRequired, // eslint-disable-line react/no-unused-prop-types\n\n  // Previous display image url (displayed to the left)\n  // If left undefined, movePrev actions will not be performed, and the button not displayed\n  prevSrc: PropTypes.string,\n\n  // Next display image url (displayed to the right)\n  // If left undefined, moveNext actions will not be performed, and the button not displayed\n  nextSrc: PropTypes.string,\n\n  //-----------------------------\n  // Image thumbnail sources\n  //-----------------------------\n\n  // Thumbnail image url corresponding to props.mainSrc\n  mainSrcThumbnail: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n\n  // Thumbnail image url corresponding to props.prevSrc\n  prevSrcThumbnail: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n\n  // Thumbnail image url corresponding to props.nextSrc\n  nextSrcThumbnail: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n\n  //-----------------------------\n  // Event Handlers\n  //-----------------------------\n\n  // Close window event\n  // Should change the parent state such that the lightbox is not rendered\n  onCloseRequest: PropTypes.func.isRequired,\n\n  // Move to previous image event\n  // Should change the parent state such that props.prevSrc becomes props.mainSrc,\n  //  props.mainSrc becomes props.nextSrc, etc.\n  onMovePrevRequest: PropTypes.func,\n\n  // Move to next image event\n  // Should change the parent state such that props.nextSrc becomes props.mainSrc,\n  //  props.mainSrc becomes props.prevSrc, etc.\n  onMoveNextRequest: PropTypes.func,\n\n  // Called when an image fails to load\n  // (imageSrc: string, srcType: string, errorEvent: object): void\n  onImageLoadError: PropTypes.func,\n\n  // Called when image successfully loads\n  onImageLoad: PropTypes.func,\n\n  // Open window event\n  onAfterOpen: PropTypes.func,\n\n  //-----------------------------\n  // Download discouragement settings\n  //-----------------------------\n\n  // Enable download discouragement (prevents [right-click -> Save Image As...])\n  discourageDownloads: PropTypes.bool,\n\n  //-----------------------------\n  // Animation settings\n  //-----------------------------\n\n  // Disable all animation\n  animationDisabled: PropTypes.bool,\n\n  // Disable animation on actions performed with keyboard shortcuts\n  animationOnKeyInput: PropTypes.bool,\n\n  // Animation duration (ms)\n  animationDuration: PropTypes.number,\n\n  //-----------------------------\n  // Keyboard shortcut settings\n  //-----------------------------\n\n  // Required interval of time (ms) between key actions\n  // (prevents excessively fast navigation of images)\n  keyRepeatLimit: PropTypes.number,\n\n  // Amount of time (ms) restored after each keyup\n  // (makes rapid key presses slightly faster than holding down the key to navigate images)\n  keyRepeatKeyupBonus: PropTypes.number,\n\n  //-----------------------------\n  // Image info\n  //-----------------------------\n\n  // Image title\n  imageTitle: PropTypes.node,\n\n  // Image caption\n  imageCaption: PropTypes.node,\n\n  // Optional crossOrigin attribute\n  imageCrossOrigin: PropTypes.string,\n\n  //-----------------------------\n  // Lightbox style\n  //-----------------------------\n\n  // Set z-index style, etc., for the parent react-modal (format: https://github.com/reactjs/react-modal#styles )\n  reactModalStyle: PropTypes.shape({}),\n\n  // Padding (px) between the edge of the window and the lightbox\n  imagePadding: PropTypes.number,\n\n  // Padding (px) between the edge of the window and the lightbox for small screen\n  imageMobilePadding: PropTypes.number,\n\n  // screen size (px) for mobile padding\n  mobileSizeBreakpoint: PropTypes.number,\n\n  wrapperClassName: PropTypes.string,\n\n  //-----------------------------\n  // Other\n  //-----------------------------\n\n  // Array of custom toolbar buttons\n  toolbarButtons: PropTypes.arrayOf(PropTypes.node),\n\n  // When true, clicks outside of the image close the lightbox\n  clickOutsideToClose: PropTypes.bool,\n\n  // Set to false to disable zoom functionality and hide zoom buttons\n  enableZoom: PropTypes.bool,\n\n  // Override props set on react-modal (https://github.com/reactjs/react-modal)\n  reactModalProps: PropTypes.shape({}),\n\n  // Aria-labels\n  nextLabel: PropTypes.string,\n  prevLabel: PropTypes.string,\n  zoomInLabel: PropTypes.string,\n  zoomOutLabel: PropTypes.string,\n  closeLabel: PropTypes.string,\n\n  imageLoadErrorMessage: PropTypes.node,\n};\n\nLightbox.defaultProps = {\n  imageTitle: null,\n  imageCaption: null,\n  toolbarButtons: null,\n  reactModalProps: {},\n  animationDisabled: false,\n  animationDuration: 300,\n  animationOnKeyInput: false,\n  clickOutsideToClose: true,\n  closeLabel: 'Fermer',\n  discourageDownloads: false,\n  enableZoom: true,\n  imagePadding: 10,\n  imageMobilePadding: 100,\n  mobileSizeBreakpoint: 768,\n  imageCrossOrigin: null,\n  keyRepeatKeyupBonus: 40,\n  keyRepeatLimit: 180,\n  mainSrcThumbnail: null,\n  nextLabel: 'Image suivante',\n  nextSrc: null,\n  nextSrcThumbnail: null,\n  onAfterOpen: () => {},\n  onImageLoadError: () => {},\n  onImageLoad: () => {},\n  onMoveNextRequest: () => {},\n  onMovePrevRequest: () => {},\n  prevLabel: 'Image précédente',\n  prevSrc: null,\n  prevSrcThumbnail: null,\n  reactModalStyle: {},\n  wrapperClassName: '',\n  zoomInLabel: 'Zoom in',\n  zoomOutLabel: 'Zoom out',\n  imageLoadErrorMessage: \"Erreur de chargement de l'image\",\n};\n\nexport default withStyles(s)(Lightbox);\n","\n    var refs = 0;\n    var css = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Lightbox.css\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Lightbox.css\", function() {\n        css = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./Lightbox.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@-webkit-keyframes _27Kcy{0%{opacity:1}to{opacity:0}}@keyframes _27Kcy{0%{opacity:1}to{opacity:0}}._1mHbN{background-color:rgba(0,0,0,.88);outline:none;top:0;left:0;right:0;bottom:0;z-index:1000;width:100%;height:100%;-ms-content-zooming:none;-ms-user-select:none;-ms-touch-select:none;-ms-touch-action:none;touch-action:none}.CrH_U{opacity:0}._3Y4S_,._4HjOV,._1x_fB,._2ad4z{position:absolute;top:0;left:0;right:0;bottom:0}._3Y4S_,._4HjOV,._1x_fB{margin:auto;border:solid #222;max-width:none;-ms-content-zooming:none;-ms-user-select:none;-ms-touch-select:none;-ms-touch-action:none;touch-action:none}._1-gcZ{background-repeat:no-repeat;background-position:50%;background-size:contain}._2FPge{border:none;position:absolute;top:0;bottom:0;width:20%;padding:40px 30px;margin:auto;cursor:pointer}._2FPge:hover{opacity:1}._2FPge:active{opacity:.7}._32KR9{left:0;background:rgba(0,0,0,0) url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIzNCI+PHBhdGggZD0iTTE5IDNsLTItMkwxIDE3bDE2IDE2IDEtMUwzIDE3IDE4IDJ6IiBmaWxsPSIjRkZGIi8+PC9zdmc+\\\") no-repeat 50%}.ir5aW{right:0;background:rgba(0,0,0,0) url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIzNCI+PHBhdGggZD0iTTEgM2wyLTIgMTYgMTZMMyAzM2wtMS0xIDE1LTE1TDIgMnoiIGZpbGw9IiNGRkYiLz48L3N2Zz4=\\\") no-repeat 50%}._1d7x2{position:absolute;top:0;left:0;right:0;bottom:0;background-image:url(\\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\");background-size:cover}._13xOa,._3G5X1{position:absolute;left:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}._13xOa{bottom:0;max-height:150px;overflow:auto}.eG4O3{padding:10px 20px;color:#777}._3G5X1{top:0;height:50px}._3wwPb{height:50px;margin:0}.ThDsh{padding-left:20px;padding-right:0;-ms-flex:0 1 auto;flex:0 1 auto;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}._1HWtl{padding-left:0;padding-right:20px;-ms-flex:0 0 auto;flex:0 0 auto}._1IUHH{display:inline-block;line-height:50px;padding:0;font-size:1.2em;color:#777;letter-spacing:.8em;max-width:100%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}._2gmHr{vertical-align:middle}._3RPrf{width:40px;height:35px;cursor:pointer;border:none;opacity:.5}._3RPrf:hover{opacity:.8}._3RPrf:active{outline:none}._3G1rd{cursor:default;opacity:.2}._3G1rd:hover{opacity:.5}.iDV2s{background:url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEgM2wxLjI1LTEuMjUgNy41IDcuNSA3LjUtNy41TDE4LjUgMyAxMSAxMC41bDcuNSA3LjUtMS4yNSAxLjI1LTcuNS03LjUtNy41IDcuNUwxIDE4bDcuNS03LjVMMSAzeiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg==\\\") no-repeat 50%}._2MWRY{background:url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTEgMTlsNi02TTkgOGg2TTEyIDV2NiIvPjwvZz48Y2lyY2xlIGN4PSIxMiIgY3k9IjgiIHI9IjciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+\\\") no-repeat 50%}.SS7uZ{background:url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTEgMTlsNi02TTkgOGg2Ii8+PC9nPjxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=\\\") no-repeat 50%}._1Kby8{-webkit-animation-name:_27Kcy;animation-name:_27Kcy}@-webkit-keyframes _3ut5A{0%,19.999%,to{opacity:0}20%{opacity:1}}@keyframes _3ut5A{0%,19.999%,to{opacity:0}20%{opacity:1}}._3DcGC{width:60px;height:60px;position:relative}._1n4qq{width:100%;height:100%;position:absolute;left:0;top:0}._1n4qq:before{content:\\\"\\\";display:block;margin:0 auto;width:11%;height:30%;background-color:#777;border-radius:30%;-webkit-animation:_3ut5A .8s ease-in-out infinite both;animation:_3ut5A .8s ease-in-out infinite both}._1n4qq:first-of-type{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}._1n4qq:first-of-type:before,._1n4qq:nth-of-type(7):before{-webkit-animation-delay:-.8s;animation-delay:-.8s}._1n4qq:nth-of-type(2){-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}._1n4qq:nth-of-type(8){-webkit-transform:rotate(210deg);-ms-transform:rotate(210deg);transform:rotate(210deg)}._1n4qq:nth-of-type(2):before,._1n4qq:nth-of-type(8):before{-webkit-animation-delay:-666ms;animation-delay:-666ms}._1n4qq:nth-of-type(3){-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}._1n4qq:nth-of-type(9){-webkit-transform:rotate(240deg);-ms-transform:rotate(240deg);transform:rotate(240deg)}._1n4qq:nth-of-type(3):before,._1n4qq:nth-of-type(9):before{-webkit-animation-delay:-533ms;animation-delay:-533ms}._1n4qq:nth-of-type(4){-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}._1n4qq:nth-of-type(10){-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}._1n4qq:nth-of-type(4):before,._1n4qq:nth-of-type(10):before{-webkit-animation-delay:-.4s;animation-delay:-.4s}._1n4qq:nth-of-type(5){-webkit-transform:rotate(120deg);-ms-transform:rotate(120deg);transform:rotate(120deg)}._1n4qq:nth-of-type(11){-webkit-transform:rotate(300deg);-ms-transform:rotate(300deg);transform:rotate(300deg)}._1n4qq:nth-of-type(5):before,._1n4qq:nth-of-type(11):before{-webkit-animation-delay:-266ms;animation-delay:-266ms}._1n4qq:nth-of-type(6){-webkit-transform:rotate(150deg);-ms-transform:rotate(150deg);transform:rotate(150deg)}._1n4qq:nth-of-type(12){-webkit-transform:rotate(330deg);-ms-transform:rotate(330deg);transform:rotate(330deg)}._1n4qq:nth-of-type(6):before,._1n4qq:nth-of-type(12):before{-webkit-animation-delay:-133ms;animation-delay:-133ms}._1n4qq:nth-of-type(7){-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}._1n4qq:nth-of-type(13){-webkit-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}._1n4qq:nth-of-type(7):before,._1n4qq:nth-of-type(13):before{-webkit-animation-delay:0ms;animation-delay:0ms}._2mgt5{position:absolute;top:0;right:0;bottom:0;left:0}._4HjOV ._2mgt5,._1x_fB ._2mgt5{display:none}._2MKaO{position:absolute;top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#fff}._4HjOV ._2MKaO,._1x_fB ._2MKaO{display:none}._24Ya1{color:#fff;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"ril__outer\": \"_1mHbN\",\n\t\"ril__outerClosing\": \"CrH_U\",\n\t\"ril__image\": \"_3Y4S_\",\n\t\"ril__imageNext\": \"_4HjOV\",\n\t\"ril__imagePrev\": \"_1x_fB\",\n\t\"ril__inner\": \"_2ad4z\",\n\t\"ril__imageDiscourager\": \"_1-gcZ\",\n\t\"ril__navButtons\": \"_2FPge\",\n\t\"ril__navButtonPrev\": \"_32KR9\",\n\t\"ril__navButtonNext\": \"ir5aW\",\n\t\"ril__downloadBlocker\": \"_1d7x2\",\n\t\"ril__caption\": \"_13xOa\",\n\t\"ril__toolbar\": \"_3G5X1\",\n\t\"ril__captionContent\": \"eG4O3\",\n\t\"ril__toolbarSide\": \"_3wwPb\",\n\t\"ril__toolbarLeftSide\": \"ThDsh\",\n\t\"ril__toolbarRightSide\": \"_1HWtl\",\n\t\"ril__toolbarItem\": \"_1IUHH\",\n\t\"ril__toolbarItemChild\": \"_2gmHr\",\n\t\"ril__builtinButton\": \"_3RPrf\",\n\t\"ril__builtinButtonDisabled\": \"_3G1rd\",\n\t\"ril__closeButton\": \"iDV2s\",\n\t\"ril__zoomInButton\": \"_2MWRY\",\n\t\"ril__zoomOutButton\": \"SS7uZ\",\n\t\"ril__outerAnimating\": \"_1Kby8\",\n\t\"closeWindow\": \"_27Kcy\",\n\t\"ril__loadingCircle\": \"_3DcGC\",\n\t\"ril__loadingCirclePoint\": \"_1n4qq\",\n\t\"pointFade\": \"_3ut5A\",\n\t\"ril__loadingContainer\": \"_2mgt5\",\n\t\"ril__errorContainer\": \"_2MKaO\",\n\t\"ril__loadingContainer__icon\": \"_24Ya1\"\n};"],"sourceRoot":""}