{"version":3,"sources":["webpack:///./src/routes/sculpturesPage/SculpturesPage.css?238e","/Users/marioncasters/Sites/GIT/marioncasters-site/src/routes/sculpturesPage/SculpturesPage.css","/Users/marioncasters/Sites/GIT/marioncasters-site/src/routes/sculpturesPage/SculpturesPage.js","/Users/marioncasters/Sites/GIT/marioncasters-site/src/routes/sculpturesPage/index.js","/Users/marioncasters/Sites/GIT/marioncasters-site/src/data/graphql/queries/getAllItems.graphql"],"names":["css","insertCss","content","module","i","exports","locals","_getContent","_getCss","_insertCss","options","push","message","isError","withStyles","s","title","type","ITEM_CONST","TYPE","SCULPTURE","data","loading","error","useQuery","GET_ITEMS_QUERY","variables","ssr","className","getAllItems","map","sculpture","Item","item","id","ITEM_CONSTANTS","TITLE","description","META_HTML_CONSTANTS","META_DESCRIPTION","chunks","component","Root","action","doc","loc","source","definitionRefs","findOperation","name","definitions","length","element","value","forEach","def","refs","Set","collectFragmentReferences","node","kind","add","selectionSet","selections","selection","variableDefinitions","operationName","newDoc","hasOwnProperty","opRefs","allRefs","newRefs","refName","size","prevRefs","has","childRef","op","oneQuery"],"mappings":"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","file":"chunks/sculptures.js","sourcesContent":["\n    var refs = 0;\n    var css = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./SculpturesPage.css\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./SculpturesPage.css\", function() {\n        css = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-rules-3!../../../node_modules/postcss-loader/src/index.js??ref--7-rules-4!./SculpturesPage.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"._20th3{height:800px}._jzyv{display:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"loading\": \"_20th3\",\n\t\"title\": \"_jzyv\"\n};","import React from 'react';\nimport { useQuery } from 'react-apollo';\nimport withStyles from 'isomorphic-style-loader/withStyles';\nimport PropTypes from 'prop-types';\n\nimport Item from '../../components/ItemDir/Item';\nimport ITEM_CONST from '../../constants/itemConstants';\nimport s from './SculpturesPage.css';\nimport GET_ITEMS_QUERY from '../../data/graphql/queries/getAllItems.graphql';\nimport Alert from '../../components/Alert';\n\nfunction SculpturesPage({ title }) {\n  const type = ITEM_CONST.TYPE.SCULPTURE;\n  const { data, loading, error } = useQuery(GET_ITEMS_QUERY, {\n    variables: { type },\n    ssr: true,\n  });\n  if (loading) return <div className={s.loading}>Chargement...</div>;\n  if (error) return <Alert message=\"Erreur au chargement des items\" isError />;\n\n  return (\n    <>\n      <h1 className={s.title}>{title}</h1>\n      {data.getAllItems &&\n        data.getAllItems.map(sculpture => (\n          <Item key={sculpture.id} item={sculpture} type={type} />\n        ))}\n    </>\n  );\n}\n\nSculpturesPage.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n\nexport default withStyles(s)(SculpturesPage);\n","import React from 'react';\nimport SculpturesPage from './SculpturesPage';\nimport ITEM_CONSTANTS from '../../constants/itemConstants';\nimport META_HTML_CONSTANTS from '../../constants/metaHtmlConstants';\nimport Root from '../../components/LayoutRep/Root';\n\nasync function action() {\n  const title = ITEM_CONSTANTS.TITLE.SCULPTURE;\n  const description = META_HTML_CONSTANTS.META_DESCRIPTION.SCULPTURE;\n\n  return {\n    title,\n    description,\n    chunks: ['drawings'],\n    component: (\n      <Root>\n        <SculpturesPage title={title} />\n      </Root>\n    ),\n  };\n}\n\nexport default action;\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getAllItems\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"getAllItems\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"title\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"date\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"technique\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"description\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"height\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"width\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"length\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":159}};\n    doc.loc.source = {\"body\":\"query getAllItems($type: String!) {\\n  getAllItems(type: $type) {\\n    id\\n    title\\n    date\\n    technique\\n    description\\n    height\\n    width\\n    length\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"getAllItems\"] = oneQuery(doc, \"getAllItems\");\n        \n"],"sourceRoot":""}